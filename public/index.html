<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>E-BrandID System</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
        <!-- Left Sidebar (20%) -->
        <div class="sidebar">
            <h2>E-BrandID</h2>
            <button class="nav-button active" data-view="download-artwork">Download</button>
            <button class="nav-button" data-view="order-status">Order Status</button>
            <button class="nav-button" data-view="item">Item</button>
            <button class="nav-button" data-view="message">Message</button>
            <button class="nav-button" data-view="profile">Profile</button>
        </div>

        <!-- Right Panel (80%) -->
        <div class="main-panel">
            <!-- Download Artwork View -->
            <div id="download-artwork" class="view active">
                <h1>Download</h1>

                <div class="split-container">
                    <!-- Left Side: Form -->
                    <div class="split-left">
                        <div class="form-section">
                            <label for="po-input">Enter PO Number(s):</label>
                            <textarea id="po-input" rows="5" placeholder="Enter PO numbers (one per line)&#10;Example:&#10;1303061&#10;1307938"></textarea>

                            <div style="margin: 10px 0;">
                                <label style="display: flex; align-items: center; cursor: pointer;">
                                    <input type="checkbox" id="download-headless-toggle" style="margin-right: 8px;">
                                    <span>Show browser window (visible mode)</span>
                                </label>
                            </div>

                            <button id="fetch-po-btn" class="submit-btn">Fetch PO Information</button>
                            <button id="download-btn" class="submit-btn">Fetch Artwork</button>
                        </div>
                    </div>

                    <!-- Right Side: Progress -->
                    <div class="split-right">
                        <div id="progress-section" class="progress-section">
                            <h2>Progress</h2>
                            <div id="progress-log"></div>
                        </div>
                    </div>
                </div>

                <div id="results-section" class="results-section" style="display: none;">
                    <h2>Results</h2>
                    <table id="results-table">
                        <thead>
                            <tr>
                                <th>PO Number</th>
                                <th>Status</th>
                                <th>Items Processed</th>
                                <th>Files Downloaded</th>
                                <th>Total Size</th>
                                <th>Errors</th>
                            </tr>
                        </thead>
                        <tbody id="results-body">
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Profile View -->
            <div id="profile" class="view">
                <h1>Profile Settings</h1>

                <div class="form-section">
                    <h3>Update Login Credentials</h3>
                    <p>Update your E-BrandID login credentials below.</p>

                    <label for="profile-username">Username:</label>
                    <input type="text" id="profile-username" placeholder="Enter username">

                    <label for="profile-password">Password:</label>
                    <div class="password-input-wrapper">
                        <input type="password" id="profile-password" placeholder="Enter password">
                        <span class="password-toggle-icon" id="password-toggle">üëÅÔ∏è</span>
                    </div>

                    <button id="save-profile-btn" class="submit-btn">Save Changes</button>
                </div>

                <div id="profile-message" style="display: none; margin-top: 20px; padding: 10px; border-radius: 4px;"></div>
            </div>

            <!-- Item View -->
            <div id="item" class="view">
                <h1>Item Tracking</h1>

                <div id="items-list-section" style="margin-top: 20px;">
                    <table id="items-table">
                        <thead>
                            <tr>
                                <th>#</th>
                                <th>Internal Seq#</th>
                                <th>Item #</th>
                                <th>Item_1 (Prefix)</th>
                                <th>Suffix</th>
                                <th>Created At</th>
                                <th>Action</th>
                            </tr>
                            <tr class="filter-row">
                                <th></th>
                                <th><input type="text" class="table-filter" data-column="1"></th>
                                <th><input type="text" class="table-filter" data-column="2"></th>
                                <th><input type="text" class="table-filter" data-column="3"></th>
                                <th><input type="text" class="table-filter" data-column="4"></th>
                                <th><input type="text" class="table-filter" data-column="5"></th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody id="items-body">
                        </tbody>
                    </table>
                </div>
            </div>

            <!-- Message View -->
            <div id="message" class="view">
                <h1>Message</h1>
                <div class="form-section">
                    <label for="message-date-picker">Select Date:</label>
                    <input type="date" id="message-date-picker" class="date-picker">

                    <div style="margin: 10px 0;">
                        <label style="display: flex; align-items: center; cursor: pointer;">
                            <input type="checkbox" id="message-headless-toggle" style="margin-right: 8px;">
                            <span>Show browser window (visible mode)</span>
                        </label>
                    </div>

                    <button id="fetch-msg-btn" class="submit-btn">Fetch Messages</button>
                    <button id="load-all-msg-btn" class="submit-btn">Load All Messages from Database</button>
                    <button id="delete-all-msg-btn" class="submit-btn" style="background-color: #d32f2f;">Delete All Messages</button>
                </div>

                <div id="message-progress-section" class="progress-section" style="display: none;">
                    <h2>Progress</h2>
                    <div id="message-progress-log"></div>
                </div>

                <div id="messages-list-section" class="results-section" style="display: none;">
                    <h2 id="messages-title">Messages</h2>
                    <div class="table-wrapper">
                        <table id="messages-table" class="messages-table">
                            <thead>
                                <tr>
                                    <th style="width: 80px;">Ref#</th>
                                    <th style="width: 120px;">Author</th>
                                    <th style="width: 140px;">Received</th>
                                    <th style="width: 250px;">Subject</th>
                                    <th style="width: 300px;">Comment</th>
                                    <th style="width: 100px;">Full Details</th>
                                    <th style="width: 80px;">Delete</th>
                                </tr>
                                <tr class="filter-row">
                                    <th><input type="text" class="table-filter" placeholder="Filter..." data-column="0"></th>
                                    <th><input type="text" class="table-filter" placeholder="Filter..." data-column="1"></th>
                                    <th><input type="text" class="table-filter" placeholder="Filter..." data-column="2"></th>
                                    <th><input type="text" class="table-filter" placeholder="Filter..." data-column="3"></th>
                                    <th><input type="text" class="table-filter" placeholder="Filter..." data-column="4"></th>
                                    <th></th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody id="messages-body">
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

            <!-- Order Status View -->
            <div id="order-status" class="view">
                <h1>Order Status</h1>

                <div class="form-section">
                    <label for="status-search">Search PO Number:</label>
                    <input type="text" id="status-search" placeholder="Enter PO number or vendor name">
                    <button id="search-btn" class="submit-btn">Search</button>
                    <button id="load-more-btn" class="submit-btn">More (10 more)</button>
                    <button id="show-all-btn" class="submit-btn">All</button>
                    <button id="export-excel-btn" class="submit-btn" style="background-color: #28a745; margin-left: 10px;">Export Excel</button>
                    <button id="delete-all-btn" class="submit-btn" style="background-color: #dc3545; margin-left: 10px;">Delete All</button>
                </div>

                <div id="orders-list-section" class="results-section" style="display: none;">
                    <h2>Purchase Orders</h2>
                    <table id="orders-table">
                        <thead>
                            <tr>
                                <th>#</th>
                                <th>PO Number</th>
                                <th>PO Date</th>
                                <th>Ship By</th>
                                <th>Ship Via</th>
                                <th>Order Type</th>
                                <th>Status</th>
                                <th>Loc</th>
                                <th>Prod Rep</th>
                                <th>Company</th>
                                <th>Vendor</th>
                                <th># of Line Items</th>
                                <th>Quantity</th>
                                <th>Amount</th>
                                <th>Currency</th>
                                <th>Created</th>
                                <th>Action</th>
                                <th>QC</th>
                                <th>Delete</th>
                            </tr>
                            <tr class="filter-row">
                                <th></th>
                                <th><input type="text" class="table-filter" placeholder="Filter..." data-column="1"></th>
                                <th><input type="text" class="table-filter" placeholder="Filter..." data-column="2"></th>
                                <th><input type="text" class="table-filter" placeholder="Filter..." data-column="3"></th>
                                <th><input type="text" class="table-filter" placeholder="Filter..." data-column="4"></th>
                                <th><input type="text" class="table-filter" placeholder="Filter..." data-column="5"></th>
                                <th><input type="text" class="table-filter" placeholder="Filter..." data-column="6"></th>
                                <th><input type="text" class="table-filter" placeholder="Filter..." data-column="7"></th>
                                <th><input type="text" class="table-filter" placeholder="Filter..." data-column="8"></th>
                                <th><input type="text" class="table-filter" placeholder="Filter..." data-column="9"></th>
                                <th><input type="text" class="table-filter" placeholder="Filter..." data-column="10"></th>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                                <th></th>
                            </tr>
                        </thead>
                        <tbody id="orders-body">
                        </tbody>
                        <tfoot id="orders-footer">
                        </tfoot>
                    </table>
                </div>

                <div id="po-detail-section" class="results-section" style="display: none;">
                    <h2>PO Details</h2>
                    <button id="back-to-list-btn" class="submit-btn">‚Üê Back to List</button>

                    <div id="po-header-info"></div>

                    <h3>Line Items</h3>
                    <table id="po-items-table">
                        <thead>
                            <tr>
                                <th>Item #</th>
                                <th>Description</th>
                                <th>Color</th>
                                <th>Ship To</th>
                                <th>Need By</th>
                                <th>Qty</th>
                                <th>Bundle Qty</th>
                                <th>$ Unit Price</th>
                                <th>Extension</th>
                            </tr>
                            <tr class="filter-row">
                                <th><input type="text" class="table-filter" placeholder="Filter..." data-column="0"></th>
                                <th><input type="text" class="table-filter" placeholder="Filter..." data-column="1"></th>
                                <th><input type="text" class="table-filter" placeholder="Filter..." data-column="2"></th>
                                <th><input type="text" class="table-filter" placeholder="Filter..." data-column="3"></th>
                                <th><input type="text" class="table-filter" placeholder="Filter..." data-column="4"></th>
                                <th><input type="text" class="table-filter" placeholder="Filter..." data-column="5"></th>
                                <th><input type="text" class="table-filter" placeholder="Filter..." data-column="6"></th>
                                <th><input type="text" class="table-filter" placeholder="Filter..." data-column="7"></th>
                                <th><input type="text" class="table-filter" placeholder="Filter..." data-column="8"></th>
                            </tr>
                        </thead>
                        <tbody id="po-items-body">
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>

    <!-- Custom Modal -->
    <div id="modal-overlay" class="modal-overlay">
        <div class="modal-content">
            <div id="modal-message" class="modal-message"></div>
            <div id="modal-buttons" class="modal-buttons"></div>
        </div>
    </div>

    <!-- Message Detail Modal -->
    <div id="message-detail-modal" class="message-detail-modal" style="display: none;">
        <div class="message-detail-content">
            <div class="message-detail-header">
                <div class="message-link-container">
                    <span class="message-link-label">Link:</span>
                    <a id="message-link" class="message-link" href="#" target="_blank"></a>
                </div>
                <button class="message-reply-btn" id="message-reply-btn">Reply</button>
                <button class="message-close-btn" id="message-close-btn">‚úï</button>
            </div>
            <div id="message-detail-body"></div>
        </div>
    </div>

    <!-- Reply Modal (Overlay Popup) -->
    <div id="reply-modal" class="reply-modal" style="display: none;">
        <div class="reply-modal-content">
            <div class="reply-modal-header">
                <span class="reply-modal-title">Reply to Message</span>
                <button class="reply-modal-close-btn" id="reply-modal-close-btn">‚úï</button>
            </div>
            <iframe id="reply-iframe" class="reply-iframe"></iframe>
        </div>
    </div>

    <!-- Item Detail Modal -->
    <div id="item-detail-modal" class="message-detail-modal" style="display: none;">
        <div class="message-detail-content" style="max-width: 800px;">
            <div class="message-detail-header">
                <h2 style="margin: 0;">Item Details</h2>
                <button class="message-close-btn" id="item-detail-close-btn">‚úï</button>
            </div>
            <div id="item-detail-body" style="padding: 20px; max-height: 70vh; overflow-y: auto;">
                <form id="item-detail-form">
                    <input type="hidden" id="detail-item-1" name="item_1">
                    <input type="hidden" id="detail-suffix" name="suffix">

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                        <div>
                            <label>Brand Name (ÂïÜÊ®ôÂêçÁ®±):</label>
                            <input type="text" id="detail-brand-name" name="brand_name" class="form-input">
                        </div>
                        <div>
                            <label>Machine Number (ÁπîÊ©üÁ∑®Ëôü):</label>
                            <input type="text" id="detail-machine-number" name="machine_number" class="form-input">
                        </div>
                        <div>
                            <label>Machine Opening (ÈñãÊï∏):</label>
                            <input type="text" id="detail-machine-opening" name="machine_opening" class="form-input">
                        </div>
                        <div>
                            <label>Pattern Name (Ëä±Âêç):</label>
                            <input type="text" id="detail-pattern-name" name="pattern_name" class="form-input">
                        </div>
                        <div>
                            <label>Pattern Writer (ÂØ´Ëä±Âì°):</label>
                            <input type="text" id="detail-pattern-writer" name="pattern_writer" class="form-input">
                        </div>
                        <div>
                            <label>Dragon Head (ÈæçÈ†≠):</label>
                            <input type="text" id="detail-dragon-head" name="dragon_head" class="form-input">
                        </div>
                        <div>
                            <label>Machine Density (ÁπîÊ©üÂØÜÂ∫¶) picks/cm:</label>
                            <input type="text" id="detail-machine-density" name="machine_density" class="form-input">
                        </div>
                        <div>
                            <label>Pattern Density (ÂØ´Ëä±ÂØÜÂ∫¶) picks/cm:</label>
                            <input type="text" id="detail-pattern-density" name="pattern_density" class="form-input">
                        </div>
                        <div>
                            <label>Total Length mm (ÂÖ®Èï∑mm):</label>
                            <input type="text" id="detail-total-length-mm" name="total_length_mm" class="form-input">
                        </div>
                        <div>
                            <label>Skirt Opening (Ë£ôÂè£):</label>
                            <input type="text" id="detail-skirt-opening" name="skirt_opening" class="form-input">
                        </div>
                        <div>
                            <label>Actual Length (ÂØ¶Èï∑):</label>
                            <input type="text" id="detail-actual-length" name="actual_length" class="form-input">
                        </div>
                        <div>
                            <label>Width mm (ÂØ¨Â∫¶mm):</label>
                            <input type="text" id="detail-width-mm" name="width_mm" class="form-input">
                        </div>
                        <div>
                            <label>X Coordinate:</label>
                            <input type="text" id="detail-x-coordinate" name="x_coordinate" class="form-input">
                        </div>
                        <div>
                            <label>Y Coordinate:</label>
                            <input type="text" id="detail-y-coordinate" name="y_coordinate" class="form-input">
                        </div>
                        <div>
                            <label>Picks:</label>
                            <input type="text" id="detail-picks" name="picks" class="form-input">
                        </div>
                        <div>
                            <label>Cut per Group (ÊØèÁµÑÂàáÈñã):</label>
                            <input type="text" id="detail-cut-per-group" name="cut_per_group" class="form-input">
                        </div>
                        <div>
                            <label>Total Cut (ÂÖ±Âàá):</label>
                            <input type="text" id="detail-total-cut" name="total_cut" class="form-input">
                        </div>
                        <div>
                            <label>Total Assembly (Á∏ΩË£ùÊï∏):</label>
                            <input type="text" id="detail-total-assembly" name="total_assembly" class="form-input">
                        </div>
                        <div>
                            <label>Schedule Progress (ÊéíÂñÆÈÄ≤Â∫¶):</label>
                            <input type="text" id="detail-schedule-progress" name="schedule_progress" class="form-input">
                        </div>
                        <div>
                            <label>Actual Cut (ÂØ¶Âàá):</label>
                            <input type="text" id="detail-actual-cut" name="actual_cut" class="form-input">
                        </div>
                    </div>

                    <div style="margin-top: 20px; display: flex; gap: 10px; justify-content: flex-end;">
                        <button type="button" id="fill-dummy-btn" class="submit-btn" style="background-color: #ff9800;">Fill Dummy Data</button>
                        <button type="button" id="edit-detail-btn" class="submit-btn" style="background-color: #2196F3; display: none;">Edit</button>
                        <button type="submit" class="submit-btn">Save</button>
                        <button type="button" id="cancel-detail-btn" class="submit-btn" style="background-color: #666;">Cancel</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>
